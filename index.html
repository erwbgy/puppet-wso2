<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Puppet-wso2 : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Puppet-wso2</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/erwbgy/puppet-wso2">View on GitHub</a>

          <h1 id="project_title">Puppet-wso2</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/erwbgy/puppet-wso2/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/erwbgy/puppet-wso2/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>puppet-wso2</h1>

<p>Puppet module to install WSO2 products and set them up to run as Runit services
under one or more users.</p>

<p>The recommended usage is to place the configuration is hiera and just:</p>

<pre><code>include wso2
</code></pre>

<p>Example hiera config:</p>

<pre><code># Enterprise Service Bus
wso2::esb:
  wso2esb1:
    extra_jars:
      - coherence-3.7.1.6.jar
      - mysql-connector-java-5.1.21.jar
      - WSDL_Mediator-2.0.0.jar
    group: wso2
    java_home: /usr/java/jdk1.7.0_07
    version: 4.5.1
  wso2esb2:
    extra_jars:
      - mysql-connector-java-5.1.21.jar
    java_home: /usr/java/jdk1.6.0_37
    version: 4.5.0

# Identity Server
wso2::is:
  wso2is1:
    extra_jars:
      - mysql-connector-java-5.1.21.jar
    group: wso2
    java_home: /usr/java/jdk1.7.0_07
    version: 4.0.0

# Governance Registry
wso2::greg:
  wso2greg1:
    extra_jars:
      - mysql-connector-java-5.1.21.jar
    version: 4.5.2

# API Manager
wso2::am:
  wso2am1:
    extra_jars:
      - mysql-connector-java-5.1.21.jar
    version: 1.2.0

# Business Activity Monitor
wso2::bam:
  wso2bam1:
    extra_jars:
      - mysql-connector-java-5.1.21.jar
    version: 2.0.1
</code></pre>

<h2>Parameters</h2>

<p>All product classes take following parameters:</p>

<p><em>title</em>: The user the product runs as</p>

<p><em>bind_address</em>: The IP address listen sockets are bound to. Default: $::fqdn</p>

<p><em>db_name</em>: Database name. Default: "wso2-${title}",</p>

<p><em>db_username</em>: Database username. Default: 'wso2registry',</p>

<p><em>db_password</em>: Database user password. Default: 'VR...Dw',</p>

<p><em>db_vendor</em>: The database vendor. Possible values: 'undef' or 'h2' for default H2 database; 'mysql'. Default: 'mysql',</p>

<p><em>jdbc_url</em>: Default: "jdbc:mysql://localhost:3306/wso2-${title}",</p>

<p><em>jdbc_driver</em>: Default: 'com.mysql.jdbc.Driver',</p>

<p><em>extra_jars</em>: Additional jar files to be placed in the repository/component/lib directory</p>

<p><em>group</em>: The user's primary group. Default: 'wso2',</p>

<p><em>home</em>: The parent directory of user home directories Default: '/home',</p>

<p><em>java_home</em>: The base directory of the JDK installation to be used. Default: '/usr/java/latest',</p>

<p><em>java_opts</em>: Additional java command-line options to pass to the startup script</p>

<p><em>version</em>: The version of the product to install (eg. 4.5.1). <strong>Required</strong>.</p>

<h2>Product zip files</h2>

<p>Place the product zip files (eg. wso2esb-4.5.1.zip) under the 'files' file store.  For example if /etc/puppet/fileserver.conf has:</p>

<pre><code>[files]
path /var/lib/puppet/files
</code></pre>

<p>the put the zip files in /var/lib/puppet/files.</p>

<h2>Notes</h2>

<p>Currently:</p>

<ul>
<li><p>Only the ESB and Identity Server have been tested</p></li>
<li><p>Some of the changes are specific to my setup and may not be application to yours</p></li>
<li><p>Only MySQL database support is present but I plan to add Postgres and Oracle support</p></li>
</ul><h2>Support</h2>

<p>License: Apache License, Version 2.0</p>

<p>GitHub URL: <a href="https://github.com/erwbgy/puppet-wso2">https://github.com/erwbgy/puppet-wso2</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Puppet-wso2 maintained by <a href="https://github.com/erwbgy">erwbgy</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-37513727-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
